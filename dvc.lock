schema: '2.0'
stages:
  prepare:
    cmd: python fashion_mnist/data/make_dataset.py
    deps:
    - path: fashion_mnist/data/make_dataset.py
      md5: 1f44466f9de2452814d1543517d45d97
      size: 1401
    outs:
    - path: data/interim
      md5: b86e08536c44f8197d9a7b525eac966c.dir
      size: 155204944
      nfiles: 2
    - path: data/raw
      md5: 8a31b1338b609cf1133d1df639de606c.dir
      size: 30878645
      nfiles: 4
  visualize:
    cmd: python fashion_mnist/visualization/visualize.py
    deps:
    - path: data/interim
      md5: b86e08536c44f8197d9a7b525eac966c.dir
      size: 155204944
      nfiles: 2
    - path: fashion_mnist/visualization/visualize.py
      md5: 41466b989347f99a9bfd20b9b74ff9f9
      size: 934
    outs:
    - path: reports/figures/
      md5: 3203f40e87b792de47cad04b6d09d3d2.dir
      size: 260217
      nfiles: 1
  featurize:
    cmd: python fashion_mnist/features/build_features.py
    deps:
    - path: data/interim
      md5: b86e08536c44f8197d9a7b525eac966c.dir
      size: 155204944
      nfiles: 2
    - path: fashion_mnist/features/build_features.py
      md5: f3165816fec182df5643577451a0ec47
      size: 903
    outs:
    - path: data/processed
      md5: 1d781b2497211232451126d42c1b12fc.dir
      size: 61026694
      nfiles: 2
  train:
    cmd: python fashion_mnist/models/train_model.py data/processed/ models/model.joblib
      models/metrics.json
    deps:
    - path: data/processed
      md5: 1d781b2497211232451126d42c1b12fc.dir
      size: 61026694
      nfiles: 2
    - path: fashion_mnist/models/train_model.py
      md5: c0147008ac28594111dc9d7e69792498
      size: 993
    params:
      params.yaml:
        seed: 20211121
        train.max_depth: 32
        train.num_estimators: 500
        train.val_split: 0.15
    outs:
    - path: models/metrics.json
      md5: 9a72c0f9b0a9ace93b13fdf2caaf9e8d
      size: 37
    - path: models/model.joblib
      md5: ed11bf505deabd1b40635b4bdb7cd485
      size: 583124621
